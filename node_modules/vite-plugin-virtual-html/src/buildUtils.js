"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addTrailingSlash = exports.getHtmlName = exports.extractHtmlPath = void 0;
const types_1 = require("./types");
const vite_1 = require("vite");
/**
 * use pages' key as html name
 * @param pages
 */
function extractHtmlPath(pages) {
    const newPages = {};
    Object.keys(pages).forEach(key => {
        newPages[key] = `/${key}.html`;
    });
    return newPages;
}
exports.extractHtmlPath = extractHtmlPath;
/**
 * get html file's name
 * @param id
 */
function getHtmlName(id, root) {
    const _root = (root !== null && root !== void 0 ? root : '').replace(types_1.cwd, '');
    const _id = id.replace(types_1.cwd, '');
    const result = _id.substring(0, _id.length - '.html'.length).replace(_root !== '' ? addTrailingSlash(_root) : '', '');
    return result.startsWith('/') ? result.substring(1) : result;
}
exports.getHtmlName = getHtmlName;
/**
 * add trailing slash on path
 * @param {string} path
 * @returns {string}
 */
function addTrailingSlash(path) {
    const _path = (0, vite_1.normalizePath)(path.replace(types_1.cwd, ''));
    return _path.endsWith('/') ? _path : `${_path}/`;
}
exports.addTrailingSlash = addTrailingSlash;
//# sourceMappingURL=buildUtils.js.map